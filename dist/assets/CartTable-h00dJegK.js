import{u as D,t as T,F as l,r as p,j as s,B as r,V as S,aC as U,v as q,H as w,S as z,$ as P,e as $,f as u,I as A}from"./index-BJIB_XH5.js";import{F as E,b as L,C as B}from"./Style-CzVUgW4C.js";import{c as m,a as H,b as x}from"./actionCreator-BFletG-w.js";function _(){const a=D(),{cartData:n,isLoading:h}=T(e=>({cartData:e.cart.data,isLoading:e.cart.loading,rtl:e.ChangeLayoutMode.rtlData})),[j]=l.useForm(),[f,y]=p.useState({coupon:0,promo:0,current:0});p.useEffect(()=>{m&&a(m())},[a]);const g=(e,t)=>{const i=parseInt(t,10)+1;a(x(e,i,n))},C=(e,t)=>{const i=parseInt(t,10)>=2?parseInt(t,10)-1:1;a(x(e,i,n))},b=e=>{window.confirm("Are you sure to delete this product?")&&a(H(e,n))},o=[];n!==null&&n.map(e=>{const{id:t,img:i,name:k,quantity:c,price:d,size:F,color:v}=e;return o.push({key:t,product:s.jsx("div",{className:"cart-single",children:s.jsxs(E,{children:[s.jsx("img",{style:{width:80},src:require(`../../../${i}`),alt:""}),s.jsx("figcaption",{children:s.jsxs("div",{className:"cart-single__info",children:[s.jsx(w,{as:"h6",children:k}),s.jsxs("ul",{className:"info-list",children:[s.jsxs("li",{children:[s.jsx("span",{className:"info-title",children:"Size :"}),s.jsx("span",{children:F})]}),s.jsxs("li",{children:[s.jsx("span",{className:"info-title",children:" Color :"}),s.jsx("span",{children:v})]})]})]})})]})}),price:s.jsxs("span",{className:"cart-single-price",children:["$",d]}),quantity:s.jsxs("div",{className:"cart-single-quantity",children:[s.jsx(r,{onClick:()=>C(t,c),className:"btn-dec",type:"default",children:s.jsx(U,{})}),c,s.jsx(r,{onClick:()=>g(t,c),className:"btn-inc",type:"default",children:s.jsx(q,{})})]}),total:s.jsxs("span",{className:"cart-single-t-price",children:["$",c*d]}),action:s.jsx("div",{className:"table-action",children:s.jsx(r,{onClick:()=>b(t),className:"btn-icon",to:"#",size:"default",type:"danger",shape:"circle",transparented:!0,children:s.jsx(S,{})})})})});const N=[{title:"Product",dataIndex:"product",key:"product"},{title:"Price",dataIndex:"price",key:"price"},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Total",dataIndex:"total",key:"total"},{title:"",dataIndex:"action",key:"action"}],I=e=>{y({...f,coupon:e})};return s.jsxs(s.Fragment,{children:[s.jsx(L,{children:h?s.jsx("div",{className:"sd-spin",children:s.jsx(z,{})}):s.jsx("div",{className:"table-cart table-responsive",children:s.jsx(P,{pagination:!1,dataSource:o,columns:N})})}),s.jsx(B,{children:s.jsx(l,{form:j,name:"submitCoupon",onFinish:I,children:s.jsxs($,{gutter:15,children:[s.jsx(u,{lg:4,sm:8,xs:24,children:s.jsx(l.Item,{name:"coupon",label:"",children:s.jsx(A,{placeholder:"Coupon Code"})})}),s.jsx(u,{lg:4,sm:8,xs:24,children:s.jsx(r,{htmlType:"submit",size:"default",type:"primary",children:"Apply Coupon"})})]})})})]})}export{_ as default};
