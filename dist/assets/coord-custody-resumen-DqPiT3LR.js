import{t as n,r as i,cd as C,u as I,bl as M,am as D,dK as A,dW as T,dX as $,dY as F,j as s,a6 as y,P,M as Y,e as S,f as c,X as d,dO as B,dP as E,$ as H,Y as g,dS as u,H as b,dJ as f}from"./index-zxEALkft.js";import{f as R}from"./actionCreator-DtQqcJ92.js";const z=[{title:"No. Bin",dataIndex:"bin",key:"bin"},{title:"Kit de Seguridad",dataIndex:"sm_kitcode",key:"sm_kitcode"},{title:"Sello 1",dataIndex:"seal1",key:"seal1"},{title:"Sello 2",dataIndex:"seal2",key:"seal2"},{title:"Sello 3",dataIndex:"seal3",key:"seal3"},{title:"Sello 4",dataIndex:"seal4",key:"seal4"}],G=[{title:"Furgón",dataIndex:"van",key:"van"},{title:"Kit de Seguridad",dataIndex:"kitCode",key:"kitCode"},{title:"Sello 1",dataIndex:"seal1",key:"seal1"},{title:"Sello 2",dataIndex:"seal2",key:"seal2"},{title:"Gavetas Caladas",dataIndex:"drawerCaladas",key:"drawerCaladas"},{title:"Gavetas Sólidas",dataIndex:"drawerSolidas",key:"drawerSolidas"}],K=[{title:"",dataIndex:"label",key:"label",width:"45%",render:h=>s.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[s.jsx("span",{style:{height:"5px",width:"5px",backgroundColor:"#012e40",borderRadius:"50%",display:"inline-block",marginRight:"8px"}}),s.jsx("span",{children:h})]})},{title:"",dataIndex:"value",key:"value",width:"55%"}];function Q(){var p;const{organizationSecurityKits:h=[],organizationFishingDrawerStamp:V=[],fishingDrawerInfo:m,fishingDrawerInfoLoading:o,treaters:L,treatersLoading:O}=n(a=>a.bin_drawers||{}),[_,k]=i.useState([]);i.useEffect(()=>{if(!o&&m.length>0){const a=m.map(r=>({van:r.sm_furgon,kitCode:r.sm_kitcode,seal1:r.SM_Stamp1,seal2:r.SM_Stamp2,drawerCaladas:r.sm_kdrawerscount,drawerSolidas:r.sm_sdrawerscount}));k(a)}},[m,o]);const v=[{path:"index",breadcrumbName:C.get("orgName")},{path:"first",breadcrumbName:"Coordinación"}],l=I();M();let{id:t}=D();const e=n(a=>a.custody.coordination),x=n(a=>a.custody.bines);n(a=>a.custody.drawer);const j=n(a=>a.custody.drawerStamps);console.log(x);const[X,J]=i.useState({status:"process",isFinished:!1,current:0,form:{}});i.useEffect(()=>{l(A(t,()=>{})),l(T(t,()=>{})),l($(t,()=>{})),l(F(t,()=>{})),l(R(t))},[l,t]);const w=x?x.map(a=>({bin:s.jsx("span",{children:a.bin_name}),sm_kitcode:s.jsx("span",{children:a.sm_kitcode||"NA"}),seal1:s.jsx("span",{children:a.SM_Stamp1}),seal2:s.jsx("span",{children:a.SM_Stamp2}),seal3:s.jsx("span",{children:a.SM_Stamp3}),seal4:s.jsx("span",{children:a.SM_Stamp4})})):[];j&&j.map(a=>({van:s.jsx("span",{children:a.SM_Van}),stamp:s.jsx("span",{children:a.SM_Stamp}),drawers:s.jsx("span",{children:a.SM_DrawersCount})}));const N=[{key:"1",label:"Dirección:",value:e?`${e.City} ${e.Address1}, ${e.Address2||"N/A"}`:"-"},{key:"2",label:"Notificación de Pesca:",value:e?e.SM_FishingNotification:"-"},{key:"3",label:"Fecha de Pesca Solicitada:",value:e?y(e.planned_date).format("DD-MM-YYYY hh:mm A"):"-"},{key:"4",label:"Tipo de Pesca:",value:e?e.fishing_type:"-"},{key:"5",label:"Tipo de Contenedor:",value:e?e.container_type:"-"},{key:"6",label:"Volumen de Pesca:",value:e?`${e.fishing_volume} lbs`:"-"},{key:"7",label:"Clasificación:",value:e?e.Classification:"-"},{key:"8",label:"Textura:",value:e?e.texture:"-"}];return s.jsxs(s.Fragment,{children:[s.jsx(P,{onBack:()=>window.history.back(),title:`Coordinación: ${e?e.SM_FishingNotification:"-"}`,routes:v}),s.jsx(Y,{children:s.jsxs(S,{gutter:25,children:[s.jsx(c,{xl:10,xs:24,style:{display:"flex"},children:s.jsx(i.Suspense,{fallback:s.jsx(d,{headless:!0,children:s.jsx(g,{active:!0})}),children:s.jsxs(d,{title:"Coordinación ",size:"large",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[s.jsx(B,{style:{backgroundColor:"#0e92e7",marginRight:"10px"},children:((p=e==null?void 0:e.org_name)==null?void 0:p[0])||""}),s.jsx(E.Title,{level:5,children:(e==null?void 0:e.org_name)||"EcSSA Manabí"}),(e==null?void 0:e.warehouse_name)||""]}),s.jsx("br",{}),s.jsx(c,{xs:24,md:24,children:s.jsx(H,{className:"custom-table_lab",dataSource:N,columns:K,pagination:!1,showHeader:!1,bordered:!0,rowClassName:()=>"custom-table-row"})})]})})}),s.jsx(c,{xl:14,xs:24,children:s.jsx(i.Suspense,{fallback:s.jsx(d,{headless:!0,children:s.jsx(g,{active:!0})}),children:s.jsxs(d,{title:"Información de la Empacadora",size:"large",children:[s.jsx(S,{gutter:16,style:{marginBottom:"16px"},children:s.jsx(c,{xs:24,sm:24,md:24,lg:24,children:s.jsx(u,{children:s.jsx("div",{className:"invoice-summary-inner",children:s.jsx("ul",{className:"summary-list",children:s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Fecha y Hora de Pesca Confirmada :"}),s.jsx("span",{className:"summary-list-text",children:e?y(e.answered_date).format("DD-MM-YYYY hh:mm A"):""})]})})})})})}),(e==null?void 0:e.container_type)==="BINES"&&s.jsxs("div",{className:"atbd-review-order__single",children:[s.jsx(u,{children:s.jsx("div",{className:"invoice-summary-inner",children:s.jsxs("ul",{className:"summary-list",children:[s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Tratador:"}),s.jsx("span",{className:"summary-list-text",children:e==null?void 0:e.user_name})]}),s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Hielo (#Sacos) :"}),s.jsx("span",{className:"summary-list-text",children:e!=null&&e.SM_Ice?`${e==null?void 0:e.SM_Ice} saco${(e==null?void 0:e.SM_Ice)>1?"s":""}`:""})]}),s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Metabisulfitos (kg) :"}),s.jsx("span",{className:"summary-list-text",children:e!=null&&e.sm_metabisulfite?`${e==null?void 0:e.sm_metabisulfite} kg`:""})]})]})})}),s.jsxs(d,{headless:!0,children:[s.jsx(b,{as:"h5",children:"Información de Bines"}),s.jsx(f,{tableData:w,columns:z,rowSelection:!1},"bin")]})]}),(e==null?void 0:e.container_type)==="GAVETAS"&&s.jsx("div",{className:"atbd-review-order__single",children:s.jsxs(d,{headless:!0,children:[s.jsx(b,{as:"h5",children:"Información de Gavetas"}),s.jsxs(u,{children:[s.jsx("div",{className:"invoice-summary-inner",children:s.jsxs("ul",{className:"summary-list",children:[s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Tratador:"}),s.jsx("span",{className:"summary-list-text",children:e==null?void 0:e.user_name})]}),s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Hielo (#Sacos) :"}),s.jsx("span",{className:"summary-list-text",children:e!=null&&e.SM_Ice?`${e==null?void 0:e.SM_Ice} saco${(e==null?void 0:e.SM_Ice)>1?"s":""}`:""})]}),s.jsxs("li",{children:[s.jsx("span",{className:"summary-list-title",children:"Metabisulfitos (kg) :"}),s.jsx("span",{className:"summary-list-text",children:e!=null&&e.sm_metabisulfite?`${e==null?void 0:e.sm_metabisulfite} kg`:""})]})]})}),s.jsx(f,{tableData:_,columns:G,rowSelection:!1},"furgon")]})]})})]})})})]})})]})}export{Q as default};
