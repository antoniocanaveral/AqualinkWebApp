import{r as T,a6 as s,F as d,j as e,D as P,I as y,aW as p,aX as Y,aY as g,p as k,B as C,ay as I,aJ as U,aZ as R,G as W,J as $,L as h,a_ as z,u as B,t as G,P as H,M as q,e as J,f as O,z as V,a$ as X,V as Z,b0 as K,ax as Q,b1 as ee,b2 as ae,b3 as se,b4 as te,b5 as S,b6 as ne,b7 as le}from"./index-zxEALkft.js";import{E as ie,C as re,a as de}from"./Style-BsaQc_lZ.js";const{Option:j}=k;function w({onHandleAddEvent:v}){const{eventData:a}=T.useContext(L),c=a&&a.title?a.title:"",i=a&&a.type?a.type:"",t=a&&a.start?a.start:s(),o=a&&a.end?a.end:s().add(3,"hours"),u=a&&a.description?a.description:"",b=a&&a.label?a.label:"",[m]=d.useForm(),f=r=>{const N=s(r.eventStartDate).format("MM/DD/YYYY"),l=s(r.eventStartTime).format("LT"),D=s(r.eventEndDate).format("MM/DD/YYYY"),E=s(r.eventEndTime).format("LT");v({title:r.eventTitle,description:r.eventDescription,start:s(`${D} ${E}`).format("MM/DD/YYYY/LT"),end:s(`${N} ${l}`).format("MM/DD/YYYY/LT"),type:r.eventType,label:r.eventLabel}),m.resetFields()};return T.useEffect(()=>{m.setFieldsValue({eventTitle:c,eventType:i,eventStart:t,eventEnd:o,eventDescription:u,eventLabel:b})}),e.jsx(P,{children:e.jsx(ie,{children:e.jsxs(d,{form:m,name:"addNewEvent",onFinish:f,children:[e.jsxs("div",{className:"ninjadash-event-form-input",children:[e.jsx("span",{className:"ninjadash-event-form-label",children:"Title"}),e.jsx(d.Item,{name:"eventTitle",initialValue:c,children:e.jsx(y,{placeholder:"Please set event title"})})]}),e.jsxs("div",{className:"ninjadash-event-form-input",children:[e.jsx("span",{className:"ninjadash-event-form-label",children:"Event Type"}),e.jsx(d.Item,{name:"eventType",initialValue:i,children:e.jsxs(p.Group,{children:[e.jsx(p,{value:"event",children:"Event"}),e.jsx(p,{value:"reminder",children:"Reminder"}),e.jsx(p,{value:"task",children:"Task"})]})})]}),e.jsxs("div",{className:"ninjadash-event-timeselection",children:[e.jsx("span",{className:"ninjadash-event-timeselection__label",children:"Start:"}),e.jsxs("div",{className:"ninjadash-event-timeselection__input",children:[e.jsx(d.Item,{name:"eventStartDate",initialValue:s(t),children:e.jsx(Y,{format:"YYYY-MM-DD"})}),e.jsx(d.Item,{name:"eventStartTime",initialValue:s(t),children:e.jsx(g,{format:"h:mm:ss A"})})]})]}),e.jsxs("div",{className:"ninjadash-event-timeselection",children:[e.jsx("span",{className:"ninjadash-event-timeselection__label",children:"End:"}),e.jsxs("div",{className:"ninjadash-event-timeselection__input",children:[e.jsx(d.Item,{name:"eventEndDate",initialValue:s(t),children:e.jsx(Y,{format:"YYYY-MM-DD"})}),e.jsx(d.Item,{name:"eventEndTime",initialValue:s(t),children:e.jsx(g,{format:"h:mm:ss A"})})]})]}),e.jsxs("div",{className:"ninjadash-event-form-input",children:[e.jsx("span",{className:"ninjadash-event-form-label",children:"Description"}),e.jsx(d.Item,{name:"eventDescription",children:e.jsx(y.TextArea,{placeholder:"Write Your Description"})})]}),e.jsxs("div",{className:"ninjadash-event-form-input",children:[e.jsx("span",{className:"ninjadash-event-form-label",children:"Label"}),e.jsx(d.Item,{name:"eventLabel",children:e.jsxs(k,{name:"title",style:{width:"100%"},children:[e.jsxs(j,{value:"primary",children:[e.jsx("span",{className:"bullet primary"}),"Primary"]}),e.jsxs(j,{value:"secondary",children:[e.jsx("span",{className:"bullet secondary"}),"Secondary"]}),e.jsxs(j,{value:"success",children:[e.jsx("span",{className:"bullet success"}),"success"]}),e.jsxs(j,{value:"warning",children:[e.jsx("span",{className:"bullet warning"}),"Warning"]}),e.jsxs(j,{value:"info",children:[e.jsx("span",{className:"bullet info"}),"Info"]})]})})]}),e.jsxs("div",{className:"add-event-footer text-right",children:[e.jsx(C,{className:"ant-btn ant-btn-white",onClick:()=>m.resetFields(),children:"Reset"}),e.jsx(C,{htmlType:"submit",className:"btn-save",type:"primary",children:"Save"})]})]})})})}w.propTypes={onHandleAddEvent:I.func};const ce=se(s),oe=ae(le),L=U.createContext();function ve(){const v=[{path:"/admin",breadcrumbName:"Dashboard"},{path:"",breadcrumbName:"Calendar"}],a=n=>({...n,start:new Date(n.start),end:new Date(n.end)}),c=B(),{events:i}=G(n=>({events:n.Calender.events,isVisible:n.Calender.eventVisible})),[t,o]=T.useState({date:new Date,selectedEvent:i[0],isEventModalVisible:!1,isFormModalVisible:!1,modalTitle:"Update Event"}),u=n=>{o({...t,isEventModalVisible:!0,isFormModalVisible:!1,selectedEvent:n})},b=()=>{o({...t,isFormModalVisible:!0,selectedEvent:{},modalTitle:"Create New"})},m=()=>{o({...t,isFormModalVisible:!1,isEventModalVisible:!1})},f=n=>({className:n.label}),{isFormModalVisible:r,isEventModalVisible:N,selectedEvent:l,modalTitle:D}=t,E=n=>{o({...t,selectedEvent:n,modalTitle:"Update Event",isEventModalVisible:!1,isFormModalVisible:!0})},F=n=>{const x=i.filter(M=>M.id!==n);c(ne(x)),o({...t,isEventModalVisible:!1}),S.open({message:"Selected Event Deleted"})},_=n=>{const x=[];i.map(A=>x.push(A.id));const M=Math.max(...x);c(te([...i,{...n,id:M+1}])),o({...t,isFormModalVisible:!1}),S.open({message:"New Event Added"})};return e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"Calendar",routes:v}),e.jsx(q,{children:e.jsx(re,{className:"ninjadash-calendar-wrap",children:e.jsx(J,{gutter:25,children:e.jsxs(O,{xxl:24,xl:24,xs:24,children:[e.jsx(V,{className:"ninjadash-event-form",footer:null,type:"primary",title:D,visible:r,onCancel:m,children:e.jsx(L.Provider,{value:l,children:e.jsx(w,{eventData:l,onHandleAddEvent:_})})}),e.jsx(V,{title:l.title,className:`ninjadash-event-details-modal ninjadash-event-details-modal-${l.label}`,visible:N,onCancel:m,footer:null,children:e.jsxs(de,{children:[e.jsxs("div",{className:"ninjadash-event-details-top",children:[e.jsx(h,{to:"#",onClick:()=>E(l),children:e.jsx(X,{})}),e.jsx(h,{to:"#",onClick:()=>F(l.id),children:e.jsx(Z,{})})]}),e.jsx("div",{className:"ninjadash-event-details",children:e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx(K,{}),e.jsx("span",{className:"ninjadash-event-label",children:"Date:"}),e.jsx("span",{className:"ninjadash-event-text",children:e.jsxs("strong",{children:[s(l.start).format("Do MMMM YYYY")," to"," ",s(l.end).format("Do MMMM YYYY")]})})]}),e.jsxs("li",{children:[e.jsx(Q,{}),e.jsx("span",{className:"ninjadash-event-label",children:"Time:"}),e.jsx("span",{className:"ninjadash-event-text",children:e.jsxs("strong",{children:[s(l.start).format("LT")," - ",s(l.end).format("LT")]})})]}),e.jsxs("li",{className:"ninjadash-event-description",children:[e.jsx(ee,{}),e.jsx("span",{className:"ninjadash-event-text",children:"Lorem ipsum dolor sit amet consetetur sadipscing elitr sed diam consetetur sadipscing elitr sed diam"})]})]})})]})}),e.jsx(oe,{className:"ninjadasgcaled",selectable:!0,localizer:ce,events:i.map(a),resizable:!0,components:{toolbar:me},defaultView:"month",defaultDate:new Date,step:60,onSelectEvent:u,onSelectSlot:b,eventPropGetter:f})]})})})})]})}class me extends R{componentDidMount(){const a=document.querySelectorAll(".calendar-header__right a");for(let c=0,{length:i}=a;c<i;c++)a[c].onclick=function(){const t=document.querySelector(".calendar-header__right a.active");t&&t.classList.remove("active"),this.classList.add("active")}}render(){return e.jsxs("div",{className:"calendar-header",children:[e.jsxs("div",{className:"calendar-header__left",children:[e.jsx("button",{type:"button",className:"btn-today",onClick:()=>this.navigate("TODAY"),children:"today"}),e.jsxs("div",{className:"calender-head__navigation",children:[e.jsx("button",{className:"btn-navigate",type:"button",onClick:()=>this.navigate("PREV"),"aria-label":"Previous",children:e.jsx(W,{})}),e.jsx("span",{className:"date-label",children:this.props.label}),e.jsx("button",{className:"btn-navigate",type:"button",onClick:()=>this.navigate("NEXT"),"aria-label":"Next",children:e.jsx($,{})})]})]}),e.jsxs("div",{className:"calendar-header__right",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(h,{className:"active",to:"#",onClick:this.view.bind(null,"month"),children:"Month"})}),e.jsx("li",{children:e.jsx(h,{to:"#",onClick:this.view.bind(null,"week"),children:"Week"})}),e.jsx("li",{children:e.jsx(h,{to:"#",onClick:this.view.bind(null,"day"),children:"Day"})})]}),e.jsxs(h,{to:"#",onClick:this.view.bind(null,"agenda"),className:"schedule-list",children:[e.jsx(z,{}),"Schedule"]})]})]})}}export{me as CustomToolbar,ve as default,L as eventContext};
