import{t as U,u as V,F as d,r as S,j as s,cH as N,L as t,w as f,x as T,T as _,n as y,z,D as B,I as o,B as D,ay as h}from"./index-zxEALkft.js";import{T as H}from"./Style-CHAD4uvF.js";import{o as C,a as L,b as P,c as Y}from"./actionCreator-BRm-w5tS.js";function M({taskStatus:b,header:I,description:j,taskLimit:x}){const{task:i}=U(e=>({task:e.Task.data})),l=V(),[m]=d.useForm(),[n,k]=S.useState({visible:!1,taskEditId:"",taskDeleteId:"",editableItem:{}}),u=(e,a)=>{k({...n,taskEditId:e,visible:!0,editableItem:a})},p=e=>{const a=i.filter(c=>c.id!==e);l(P(a))},g=()=>{k({...n,visible:!1})},{taskEditId:w,editableItem:E,visible:F}=n,A=(e,a)=>{const c=i.map(r=>(r.id===a&&(r=e),r));l(Y(c)),k({...n,visible:!1})},v=(e,a)=>{l(L(e,a))};return S.useEffect(()=>{F&&m.setFieldsValue(E)},[m,E,F]),s.jsxs(H,{children:[s.jsxs("div",{className:"ninjadash-tassklist-wrap",children:[I===""?"":s.jsx("div",{className:"ninjadash-tasklist-head",children:s.jsx("h2",{className:"ninjadash-tasklist-head__title",children:I})}),s.jsx("div",{className:"ninjadash-tasklist-body",children:b==="favourite"?i.filter(e=>e.favourite).length>0?s.jsx("ul",{className:"ninjadash-tasklist",children:i.slice(0,x||i.length).sort((e,a)=>a.id-e.id).filter(e=>e.favourite).map((e,a)=>s.jsxs("li",{className:"ninjadash-tasklist-item",children:[s.jsxs("div",{className:"ninjadash-tasklist-item__content",children:[s.jsx("div",{className:"ninjadash-tasklist-item__title",children:s.jsx(N,{checked:!!e.completed,onChange:()=>l(C(i,e.id)),children:e.title})}),j?s.jsx("div",{className:"ninjadash-tasklist-item__text",children:s.jsx("p",{children:e.description})}):""]}),s.jsxs("div",{className:"ninjadash-tasklist-item__action",children:[s.jsx(t,{className:"ninjadash-edit",to:"#",onClick:()=>u(e.id,e),children:s.jsx(f,{})}),s.jsx(t,{to:"#",className:e.favourite?"task-favourite active":"task-favourite",onClick:()=>v(i,e.id),children:s.jsx(T,{})}),s.jsx(_,{title:"Are you sure to delete this task?",onConfirm:()=>p(e.id),okText:"Yes",cancelText:"No",children:s.jsx(t,{className:"ninjadash-delete",to:"#",children:s.jsx(y,{})})})]})]},a))}):s.jsx("div",{className:"ninjadash-tasklist-empty",children:s.jsx("span",{children:"Sorry !! No Favourite Task Found :("})}):b==="completed"?i.filter(e=>e.completed).length>0?s.jsx("ul",{className:"ninjadash-tasklist",children:i.slice(0,x||i.length).sort((e,a)=>a.id-e.id).filter(e=>e.completed).map((e,a)=>s.jsxs("li",{className:"ninjadash-tasklist-item",children:[s.jsxs("div",{className:"ninjadash-tasklist-item__content",children:[s.jsx("div",{className:"ninjadash-tasklist-item__title",children:s.jsx(N,{checked:!!e.completed,onChange:()=>l(C(i,e.id)),children:e.title})}),j?s.jsx("div",{className:"ninjadash-tasklist-item__text",children:s.jsx("p",{children:e.description})}):""]}),s.jsxs("div",{className:"ninjadash-tasklist-item__action",children:[s.jsx(t,{className:"ninjadash-edit",to:"#",onClick:()=>u(e.id,e),children:s.jsx(f,{})}),s.jsx(t,{to:"#",className:e.favourite?"task-favourite active":"task-favourite",onClick:()=>v(i,e.id),children:s.jsx(T,{})}),s.jsx(_,{title:"Are you sure to delete this task?",onConfirm:()=>p(e.id),okText:"Yes",cancelText:"No",children:s.jsx(t,{className:"ninjadash-delete",to:"#",children:s.jsx(y,{})})})]})]},a))}):s.jsx("div",{className:"ninjadash-tasklist-empty",children:s.jsx("span",{children:"Sorry !! No Completed Task Found :("})}):i.length>0?s.jsx("ul",{className:"ninjadash-tasklist",children:i.slice(0,x||i.length).sort((e,a)=>a.id-e.id).map((e,a)=>s.jsxs("li",{className:"ninjadash-tasklist-item",children:[s.jsxs("div",{className:"ninjadash-tasklist-item__content",children:[s.jsx("div",{className:"ninjadash-tasklist-item__title",children:s.jsx(N,{checked:!!e.completed,onChange:()=>l(C(i,e.id)),children:e.title})}),j?s.jsx("div",{className:"ninjadash-tasklist-item__text",children:s.jsx("p",{children:e.description})}):""]}),s.jsxs("div",{className:"ninjadash-tasklist-item__action",children:[s.jsx(t,{className:"ninjadash-edit",to:"#",onClick:()=>u(e.id,e),children:s.jsx(f,{})}),s.jsx(t,{to:"#",className:e.favourite?"task-favourite active":"task-favourite",onClick:()=>v(i,e.id),children:s.jsx(T,{})}),s.jsx(_,{title:"Are you sure to delete this task?",onConfirm:()=>p(e.id),okText:"Yes",cancelText:"No",children:s.jsx(t,{className:"ninjadash-delete",to:"#",children:s.jsx(y,{})})})]})]},a))}):s.jsx("div",{className:"ninjadash-tasklist-empty",children:s.jsx("span",{children:"Sorry !! No Task Found :("})})})]}),s.jsx(z,{title:"Edit Task",className:"ninjadash-addTask-modal",type:n.modalType,visible:n.visible,footer:null,onCancel:g,forceRender:!0,children:s.jsx("div",{className:"ninjadash-addTask-modal-inner",children:i.sort((e,a)=>a.id-e.id).filter(e=>e.id===w).map((e,a)=>s.jsx(B,{children:s.jsxs(d,{form:m,name:"add-task",onFinish:c=>A(c,e.id),children:[s.jsx(d.Item,{rules:[{required:!0,message:"Please add a Title"}],name:"title",initialValue:e.title,children:s.jsx(o,{placeholder:"Title"})}),s.jsx(d.Item,{name:"description",initialValue:e.description,children:s.jsx(o.TextArea,{rows:4,placeholder:"Add Description"})}),s.jsx(d.Item,{hidden:"true",name:"favourite",initialValue:e.favourite,children:s.jsx(o,{})}),s.jsx(d.Item,{hidden:"true",name:"completed",initialValue:e.completed,children:s.jsx(o,{})}),s.jsxs("div",{className:"ninjadash-modal-actions",children:[s.jsx(D,{size:"small",type:"white",outlined:!0,onClick:g,children:"Cancel"},"cancel"),s.jsx(D,{htmlType:"submit",size:"small",type:"primary",children:"Edit"},"submit")]})]})},a))})})]})}M.propTypes={header:h.string,description:h.bool,taskStatus:h.string,taskLimit:h.number};export{M as T};
