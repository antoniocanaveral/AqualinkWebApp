import{r as d,j as i,ay as n,P as Q,M as Y,e as J,f as w,X as D}from"./index-zxEALkft.js";const K=[["City","2010 Population","2000 Population"],["New York City, NY",8175e3,8008e3],["Los Angeles, CA",3792e3,3694e3],["Chicago, IL",2695e3,2896e3],["Houston, TX",2099e3,1953e3],["Philadelphia, PA",1526e3,1517e3]],X=[["Year","Sales","Expenses","Profit"],["2014",1e3,400,200],["2015",1170,460,250],["2016",660,1120,300],["2017",1030,540,350]],Z=[["Month","Bolivia","Ecuador","Madagascar","Papua New Guinea","Rwanda","Average"],["2004/05",165,938,522,998,450,614.6],["2005/06",135,1120,599,1268,288,682],["2006/07",157,1167,587,807,397,623],["2007/08",139,1110,615,968,215,609.4],["2008/09",136,691,629,1026,366,569.6]],tt=[["x","dogs"],[0,0],[1,10],[2,23],[3,17],[4,18],[5,9],[6,11],[7,27],[8,33],[9,40],[10,32],[11,35]],et=[["x","dogs","cats"],[0,0,0],[1,10,5],[2,23,15],[3,17,9],[4,18,10],[5,9,5],[6,11,3],[7,27,19]],rt=[["Name","Manager","ToolTip"],[{v:"Mike",f:'Mike<div style="color:red; font-style:italic">President</div>'},"","The President"],[{v:"Jim",f:'Jim<div style="color:red; font-style:italic">Vice President</div>'},"Mike","VP"],["Alice","Mike",""],["Bob","Jim","Bob Sponge"],["Carol","Bob",""]],at=[["Task","Hours per Day"],["Work",11],["Eat",2],["Commute",2],["Watch TV",2],["Sleep",7]],ot={barChartData:K,materialDesignChart:X,comboChartData:Z,lineChartData:tt,MultilineChartData:et,organizationChartData:rt,pieChartData:at};function it(s,o,t){d.useEffect(()=>{if(!document)return;const e=document.querySelector('script[src="'.concat(s,'"]'));if(e!=null&&e.dataset.loaded){o==null||o();return}const a=e||document.createElement("script");e||(a.src=s);const r=()=>{a.dataset.loaded="1",o==null||o()};a.addEventListener("load",r),t&&a.addEventListener("error",t),e||document.head.append(a)},[])}function st(s){let{chartVersion:o="current",chartPackages:t=["corechart","controls"],chartLanguage:e="en",mapsApiKey:a}=s;const[r,l]=d.useState(null),[c,g]=d.useState(!1);return it("https://www.gstatic.com/charts/loader.js",()=>{const h=window==null?void 0:window.google;h&&(h.charts.load(o,{packages:t,language:e,mapsApiKey:a}),h.charts.setOnLoadCallback(()=>{l(h)}))},()=>{g(!0)}),[r,c]}function nt(s){let{onLoad:o,onError:t,...e}=s;const[a,r]=st(e);return d.useEffect(()=>{a&&o&&o(a)},[a]),d.useEffect(()=>{r&&t&&t()},[r]),null}const F={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let E=0;const lt=()=>(E+=1,"reactgooglegraph-".concat(E)),ht=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],dt=async function(s,o){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((e,a)=>{const r="".concat(t.headers?"headers=".concat(t.headers):"headers=0"),l="".concat(t.query?"&tq=".concat(encodeURIComponent(t.query)):""),c="".concat(t.gid?"&gid=".concat(t.gid):""),g="".concat(t.sheet?"&sheet=".concat(t.sheet):""),h="".concat(t.access_token?"&access_token=".concat(t.access_token):""),u="".concat(r).concat(c).concat(g).concat(l).concat(h),p="".concat(o,"/gviz/tq?").concat(u);new s.visualization.Query(p).send(x=>{x.isError()?a("Error in query:  ".concat(x.getMessage()," ").concat(x.getDetailedMessage())):e(x.getDataTable())})})},{Provider:ct,Consumer:ut}=d.createContext(F),gt=s=>{let{children:o,value:t}=s;return d.createElement(ct,{value:t},o)},I=s=>{let{render:o}=s;return d.createElement(ut,null,t=>o(t))},pt="#CCCCCC";class Ct extends d.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:o,googleChartWrapper:t}=this.props;window.removeEventListener("resize",this.onResize),o.visualization.events.removeAllListeners(t),t.getChartType()==="Timeline"&&t.getChart()&&t.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(...o){super(...o),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:t,googleChartWrapper:e}=this.props;t.visualization.events.addListener(e,"select",()=>{const r=e.getChart().getSelection(),l=e.getDataTable();if(r.length===0||r[0].row||!l)return;const c=r[0].column,g=this.getColumnID(l,c);this.state.hiddenColumns.includes(g)?this.setState(h=>({...h,hiddenColumns:[...h.hiddenColumns.filter(u=>u!==g)]})):this.setState(h=>({...h,hiddenColumns:[...h.hiddenColumns,g]}))})},this.applyFormatters=(t,e)=>{const{google:a}=this.props;for(let r of e)switch(r.type){case"ArrowFormat":{new a.visualization.ArrowFormat(r.options).format(t,r.column);break}case"BarFormat":{new a.visualization.BarFormat(r.options).format(t,r.column);break}case"ColorFormat":{const l=new a.visualization.ColorFormat(r.options),{ranges:c}=r;for(let g of c)l.addRange(...g);l.format(t,r.column);break}case"DateFormat":{new a.visualization.DateFormat(r.options).format(t,r.column);break}case"NumberFormat":{new a.visualization.NumberFormat(r.options).format(t,r.column);break}case"PatternFormat":{new a.visualization.PatternFormat(r.options).format(t,r.column);break}}},this.getColumnID=(t,e)=>t.getColumnId(e)||t.getColumnLabel(e),this.draw=async t=>{let{data:e,diffdata:a,rows:r,columns:l,options:c,legend_toggle:g,legendToggle:h,chartType:u,formatters:p,spreadSheetUrl:v,spreadSheetQueryParameters:x}=t;const{google:f,googleChartWrapper:m}=this.props;let C,b=null;if(a){const R=f.visualization.arrayToDataTable(a.old),T=f.visualization.arrayToDataTable(a.new);b=f.visualization[u].prototype.computeDiff(R,T)}e?Array.isArray(e)?C=f.visualization.arrayToDataTable(e):C=new f.visualization.DataTable(e):r&&l?C=f.visualization.arrayToDataTable([l,...r]):v?C=await dt(f,v,x):C=f.visualization.arrayToDataTable([]);const A=C.getNumberOfColumns(),H=Array(A).fill(0).map((R,T)=>{const $=this.getColumnID(C,T);return this.state.hiddenColumns.includes($)?{label:C.getColumnLabel(T),type:C.getColumnType(T),calc:()=>null}:T}),z=m.getChart();m.getChartType()==="Timeline"&&z&&z.clearChart(),m.setChartType(u),m.setOptions(c||{});const j=new f.visualization.DataView(C);j.setColumns(H),m.setDataTable(j),m.draw(),this.props.googleChartDashboard!==null&&this.props.googleChartDashboard.draw(C),b&&(m.setDataTable(b),m.draw()),p&&(this.applyFormatters(C,p),m.setDataTable(C),m.draw()),(h===!0||g===!0)&&this.grayOutHiddenColumns({options:c})},this.grayOutHiddenColumns=t=>{let{options:e}=t;const{googleChartWrapper:a}=this.props,r=a.getDataTable();if(!r)return;const l=r.getNumberOfColumns();if(this.state.hiddenColumns.length>0===!1)return;const g=Array.from({length:l-1}).map((h,u)=>{const p=this.getColumnID(r,u+1);return this.state.hiddenColumns.includes(p)?pt:e&&e.colors?e.colors[u]:ht[u]});a.setOptions({...e,colors:g}),a.draw()},this.onResize=()=>{const{googleChartWrapper:t}=this.props;t.draw()}}}class mt extends d.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:o,googleChartWrapper:t,googleChartDashboard:e}=this.props;return d.createElement(I,{render:a=>d.createElement(Ct,Object.assign({},a,{google:o,googleChartWrapper:t,googleChartDashboard:e}))})}}class ft extends d.Component{shouldComponentUpdate(){return!1}listenToEvents(o){let{chartEvents:t,google:e,googleChartWrapper:a}=o;if(t){e.visualization.events.removeAllListeners(a);for(let l of t){var r=this;const{eventName:c,callback:g}=l;e.visualization.events.addListener(a,c,function(){for(var h=arguments.length,u=new Array(h),p=0;p<h;p++)u[p]=arguments[p];g({chartWrapper:a,props:r.props,google:e,eventArgs:u})})}}}componentDidMount(){var o;const{google:t,googleChartWrapper:e}=this.props;this.listenToEvents({chartEvents:((o=this.propsFromContext)===null||o===void 0?void 0:o.chartEvents)||null,google:t,googleChartWrapper:e})}render(){return this.props,d.createElement(I,{render:o=>(this.propsFromContext=o,null)})}constructor(o){super(o),this.propsFromContext=null}}let q=0,vt=class extends d.Component{componentDidMount(){const{options:o,google:t,chartType:e,chartWrapperParams:a,toolbarItems:r,getChartEditor:l,getChartWrapper:c}=this.props,g={chartType:e,options:o,containerId:this.getGraphID(),...a},h=new t.visualization.ChartWrapper(g);h.setOptions(o||{}),c&&c(h,t);const u=new t.visualization.Dashboard(this.dashboard_ref),p=this.addControls(h,u);r&&t.visualization.drawToolbar(this.toolbar_ref.current,r);let v=null;l&&(v=new t.visualization.ChartEditor,l({chartEditor:v,chartWrapper:h,google:t})),this.setState({googleChartEditor:v,googleChartControls:p,googleChartDashboard:u,googleChartWrapper:h,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper||!this.state.googleChartDashboard||!this.state.googleChartControls)return;const{controls:o}=this.props;if(o)for(let t=0;t<o.length;t+=1){const{controlType:e,options:a,controlWrapperParams:r}=o[t];r&&"state"in r&&this.state.googleChartControls[t].control.setState(r.state),this.state.googleChartControls[t].control.setOptions(a),this.state.googleChartControls[t].control.setControlType(e)}}shouldComponentUpdate(o,t){return this.state.isReady!==t.isReady||o.controls!==this.props.controls}render(){const{width:o,height:t,options:e,style:a}=this.props,r={height:t||e&&e.height,width:o||e&&e.width,...a};return this.props.render?d.createElement("div",{ref:this.dashboard_ref,style:r},d.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):d.createElement("div",{ref:this.dashboard_ref,style:r},this.renderControl(l=>{let{controlProp:c}=l;return c.controlPosition!=="bottom"}),this.renderChart(),this.renderControl(l=>{let{controlProp:c}=l;return c.controlPosition==="bottom"}),this.renderToolBar())}constructor(...o){var t;super(...o),t=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=d.createRef(),this.toolbar_ref=d.createRef(),this.getGraphID=()=>{const{graphID:e,graph_id:a}=this.props;let r;return!e&&!a?this.graphID?r=this.graphID:r=lt():e&&!a?r=e:a&&!e?r=a:r=e,this.graphID=r,this.graphID},this.getControlID=(e,a)=>{q+=1;let r;return typeof e>"u"?r="googlechart-control-".concat(a,"-").concat(q):r=e,r},this.addControls=(e,a)=>{const{google:r,controls:l}=this.props,c=l?l.map((h,u)=>{const{controlID:p,controlType:v,options:x,controlWrapperParams:f}=h,m=this.getControlID(p,u);return{controlProp:h,control:new r.visualization.ControlWrapper({containerId:m,controlType:v,options:x,...f})}}):null;if(!c)return null;a.bind(c.map(h=>{let{control:u}=h;return u}),e);for(let h of c){const{control:u,controlProp:p}=h,{controlEvents:v=[]}=p;for(let x of v){var g=this;const{callback:f,eventName:m}=x;r.visualization.events.removeListener(u,m,f),r.visualization.events.addListener(u,m,function(){for(var C=arguments.length,b=new Array(C),A=0;A<C;A++)b[A]=arguments[A];f({chartWrapper:e,controlWrapper:u,props:g.props,google:r,eventArgs:b})})}}return c},this.renderChart=()=>{const{width:e,height:a,options:r,style:l,className:c,rootProps:g,google:h}=this.props,u={height:a||r&&r.height,width:e||r&&r.width,...l};return d.createElement("div",Object.assign({id:this.getGraphID(),style:u,className:c},g),this.state.isReady&&this.state.googleChartWrapper!==null?d.createElement(d.Fragment,null,d.createElement(mt,{googleChartWrapper:this.state.googleChartWrapper,google:h,googleChartDashboard:this.state.googleChartDashboard}),d.createElement(ft,{googleChartWrapper:this.state.googleChartWrapper,google:h})):null)},this.renderControl=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a=>!0;return t.state.isReady&&t.state.googleChartControls!==null?d.createElement(d.Fragment,null,t.state.googleChartControls.filter(a=>{let{controlProp:r,control:l}=a;return e({control:l,controlProp:r})}).map(a=>{let{control:r,controlProp:l}=a;return d.createElement("div",{key:r.getContainerId(),id:r.getContainerId()})})):null},this.renderToolBar=()=>this.props.toolbarItems?d.createElement("div",{ref:this.toolbar_ref}):null}};class y extends d.Component{render(){const{chartLanguage:o,chartPackages:t,chartVersion:e,mapsApiKey:a,loader:r,errorElement:l}=this.props;return d.createElement(gt,{value:this.props},this.state.loadingStatus==="ready"&&this.state.google!==null?d.createElement(vt,Object.assign({},this.props,{google:this.state.google})):this.state.loadingStatus==="errored"&&l?l:r,d.createElement(nt,{chartLanguage:o,chartPackages:t,chartVersion:e,mapsApiKey:a,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(o){const{controls:t,toolbarItems:e,getChartEditor:a}=this.props;return o&&o.visualization&&o.visualization.ChartWrapper&&o.visualization.Dashboard&&(!t||o.visualization.ChartWrapper)&&(!a||o.visualization.ChartEditor)&&(!e||o.visualization.drawToolbar)}constructor(...o){super(...o),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=t=>{if(this.props.onLoad&&this.props.onLoad(t),this.isFullyLoaded(t))this.onSuccess(t);else{const e=setInterval(()=>{const a=window.google;this._isMounted?a&&this.isFullyLoaded(a)&&(clearInterval(e),this.onSuccess(a)):clearInterval(e)},1e3)}},this.onSuccess=t=>{this.setState({loadingStatus:"ready",google:t})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}y.defaultProps=F;var L;(function(s){s.annotation="annotation",s.annotationText="annotationText",s.certainty="certainty",s.emphasis="emphasis",s.interval="interval",s.scope="scope",s.style="style",s.tooltip="tooltip",s.domain="domain"})(L||(L={}));function W(s){const{width:o,height:t,data:e,title:a,chartArea:r}=s;return i.jsx(y,{width:o,height:t,chartType:"BarChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:a,chartArea:{width:r},hAxis:{title:"Total",minValue:0},vAxis:{title:"City"}},rootProps:{"data-testid":"1"}})}W.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array,title:n.string.isRequired,chartArea:n.string.isRequired};function M(s){const{width:o,height:t,data:e,title:a,subtitle:r}=s;return i.jsx(y,{width:o,height:t,chartType:"Bar",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{chart:{title:a,subtitle:r}},rootProps:{"data-testid":"2"}})}M.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,subtitle:n.string.isRequired};function B(s){const{width:o,height:t,data:e,title:a,chartArea:r}=s;return i.jsx(y,{width:o,height:t,chartType:"BarChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:a,chartArea:{width:r},isStacked:!0,hAxis:{title:"Total",minValue:0},vAxis:{title:"City"}},rootProps:{"data-testid":"3"}})}B.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,chartArea:n.string.isRequired};function k(s){const{width:o,height:t,data:e,title:a,chartArea:r,colors:l}=s;return i.jsx(y,{width:o,height:t,chartType:"BarChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:a,chartArea:{width:r},colors:l,hAxis:{title:"Total",minValue:0},vAxis:{title:"City"}},rootProps:{"data-testid":"4"}})}k.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,chartArea:n.string.isRequired,colors:n.array.isRequired};function G(s){const{width:o,height:t,data:e,title:a,chartArea:r,colors:l}=s;return i.jsx(y,{width:o,height:t,chartType:"ComboChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:a,chartArea:{width:r},colors:l,seriesType:"bars",series:{5:{type:"line"}}},rootProps:{"data-testid":"5"}})}G.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,chartArea:n.string.isRequired,colors:n.array.isRequired};function O(s){const{width:o,height:t,data:e}=s;return i.jsx(y,{width:o,height:t,chartType:"LineChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{hAxis:{title:"Time"},vAxis:{title:"Popularity"}},rootProps:{"data-testid":"6"}})}O.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired};function _(s){const{width:o,height:t,data:e}=s;return i.jsx(y,{width:o,height:t,chartType:"LineChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{hAxis:{title:"Time"},vAxis:{title:"Popularity"},series:{0:{curveType:"function"},1:{curveType:"function"}}},rootProps:{"data-testid":"7"}})}_.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired};function U(s){const{width:o,height:t,data:e,chartArea:a}=s;return i.jsx(y,{width:o,height:t,chartType:"OrgChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{chartArea:{width:a},allowHtml:!0},rootProps:{"data-testid":"8"}})}U.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,chartArea:n.string.isRequired};function N(s){const{width:o,height:t,data:e,chartArea:a,title:r}=s;return i.jsx(y,{width:o,height:t,chartType:"PieChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:r,chartArea:{width:a}},rootProps:{"data-testid":"9"}})}N.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,chartArea:n.string.isRequired};function V(s){const{width:o,height:t,data:e,chartArea:a,title:r}=s;return i.jsx(y,{width:o,height:t,chartType:"PieChart",loader:i.jsx("div",{children:"Loading Chart"}),data:e,options:{title:r,chartArea:{width:a},is3D:!0},rootProps:{"data-testid":"9"}})}V.propTypes={width:n.string.isRequired,height:n.string.isRequired,data:n.array.isRequired,title:n.string.isRequired,chartArea:n.string.isRequired};const{barChartData:P,materialDesignChart:yt,comboChartData:xt,lineChartData:wt,MultilineChartData:Dt,organizationChartData:bt,pieChartData:S}=ot;function Pt(){const s=[{path:"index",breadcrumbName:"Dashboard"},{path:"first",breadcrumbName:"Google Chart"}];return i.jsxs(i.Fragment,{children:[i.jsx(Q,{title:"Google Chart",routes:s}),i.jsx(Y,{children:i.jsxs(J,{gutter:25,children:[i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Basic bar chart with multiple series",size:"large",children:i.jsx(W,{data:P,width:"100%",height:"300px",title:"Population of Largest U.S. Cities",chartArea:"50%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Material Design",size:"large",children:i.jsx(M,{data:yt,width:"100%",height:"300px",title:"Company Performance",subtitle:"Sales, Expenses, and Profit: 2014-2017",chartArea:"50%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Stacked bar chart with multiple series",size:"large",children:i.jsx(B,{data:P,width:"100%",height:"300px",title:"Population of Largest U.S. Cities",chartArea:"50%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Custom Colors Bar Chart",size:"large",children:i.jsx(k,{data:P,width:"100%",height:"300px",title:"Population of Largest U.S. Cities",chartArea:"50%",colors:["#b0120a","#ffab91"]})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Combo Chart",size:"large",children:i.jsx(G,{data:xt,width:"100%",height:"300px",title:"Monthly Coffee Production by Country",chartArea:"50%",colors:["#b0120a","#ffab91","#e0120a","#afab91"]})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Line Chart",size:"large",children:i.jsx(O,{data:wt,width:"100%",height:"300px",title:"Monthly Coffee Production by Country",chartArea:"50%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Multiple Line Chart",size:"large",children:i.jsx(_,{data:Dt,width:"100%",height:"300px",title:"Monthly Coffee Production by Country",chartArea:"50%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Organization Chart",size:"large",children:i.jsx(U,{data:bt,width:"100%",height:"300px",title:"Monthly Coffee Production by Country",chartArea:"100%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"Basic Pie Chart",size:"large",children:i.jsx(N,{data:S,width:"100%",height:"300px",title:"My Daily Activities",chartArea:"100%"})})}),i.jsx(w,{md:12,xs:24,children:i.jsx(D,{title:"3d Pie Chart",size:"large",children:i.jsx(V,{data:S,width:"100%",height:"300px",title:"My Daily Activities",chartArea:"100%"})})})]})})]})}export{Pt as default};
