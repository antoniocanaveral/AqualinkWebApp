import{r as n,cd as o,t as d,ce as v,u as k,dI as b,j as e,a6 as E,L as c,Q as I,w as D,as as p,P as O,M as P,e as F,f as _,bR as M,X as f,dJ as T,Y as L}from"./index-BJIB_XH5.js";function R(){const[r,x]=n.useState(o.get("orgName")),g=d(a=>a.auth.selectedModule),l=v().pathname==="/farm/fishing-coords",u=k(),t=d(a=>a.custody.coordinations),i=d(a=>a.auth.custodyOrgs),m=a=>{x(a);const s=i.find(y=>y.orgId===a),N=s?s.orgEmail:"";o.set("orgId",a),o.set("orgEmail",N||""),o.remove("poolId")},j=[...i.length>0?[{options:i.map(a=>({value:a.orgId,label:a.orgName,email:a.orgEmail})),onChange:m,placeholder:"Seleccione una Empacadora",value:r||void 0}]:[]],h=g!=="FARM"?"Finca Seleccionada":"Empacadora Seleccionada";n.useEffect(()=>{u(b())},[u,r]);const w=a=>{switch(a.toLowerCase()){case"confirmado":return"ninjadash-status-confirmed";case"en proceso":return"ninjadash-status-in-process";case"en espera":return"ninjadash-status-waiting";case"ejecutado":return"ninjadash-status-executed";case"espera bines":return"ninjadash-status-waiting-bines";case"espera gavetas":return"ninjadash-status-waiting-drawers";default:return"ninjadash-status-undefined"}},C=n.useMemo(()=>!t||t.length===0?[]:t.filter(a=>l?a.statusWrapper.statusName.toLowerCase()!=="por revisar":!0).map(a=>{const s=a.statusWrapper;return{id:`${a.SM_FishingNotification||"Sin Lote ID"}`,harvestDate:E(a.planned_harvest_date).format("YYYY-MM-DD")||"No disponible",harvestType:a.harvest_type||"Sin Tipo",growOut:a.grow_out_pool||"No disponible",cycleNumber:a.cycle_number||"No disponible",seedingVolume:a.seeding_volume||"No definido",classificationP:a.classification_p||"No clasificado",classificationS:a.classification_s||"No clasificado",classificationT:a.classification_t||"No clasificado",packer:a.packer_name||`Sin ${h}`,location:e.jsxs("span",{children:[a.City||"No Ciudad",", ",a.Address1||"No Dirección"]}),status:e.jsx("span",{className:`ninjadash-status ${w(s.statusName)}`,children:s.statusName||"Estado no definido"}),action:e.jsxs("div",{className:"table-actions",style:{minWidth:"50px !important",textAlign:"center"},children:[!s.showEditFrom&&e.jsx(c,{className:"view",title:"Ver información",to:`./${a.id}/view`,children:e.jsx(I,{})}),s.showEditFrom&&e.jsx(c,{className:"edit",title:"Enviar Propuesta",to:`./${a.id}/edit`,children:e.jsx(D,{})}),s.showBinesForm&&e.jsx(c,{className:"edit",title:"Cargar información de Bines",to:`./${a.id}/bines`,children:e.jsx(p,{})}),s.showDrawersForm&&e.jsx(c,{className:"edit",title:"Cargar información de Gavetas",to:`./${a.id}/drawers`,children:e.jsx(p,{})})]})}}),[t,l,h]),S=[{title:"Fecha de Pesca",dataIndex:"harvestDate",key:"harvestDate"},{title:"Piscina",dataIndex:"growOut",key:"growOut"},{title:"Lote ID",dataIndex:"id",key:"id"},{title:"Volumen",dataIndex:"seedingVolume",key:"seedingVolume"},{title:"Clasificación P",dataIndex:"classificationP",key:"classificationP"},{title:"Clasificación S",dataIndex:"classificationS",key:"classificationS"},{title:"Clasificación T",dataIndex:"classificationT",key:"classificationT"},{title:"Estado",dataIndex:"status",key:"status"},{title:"Acciones",dataIndex:"action",key:"action",width:"150px"}];return e.jsxs(e.Fragment,{children:[e.jsx(O,{highlightText:"Aqualink",title:"Coordinaciones Pesca",organizations:i,selectOptions:j,selectedOrg:r}),e.jsx(P,{children:e.jsx(F,{gutter:25,children:e.jsx(_,{xxl:24,xs:24,children:e.jsx(n.Suspense,{fallback:e.jsx(f,{headless:!0,children:e.jsx(L,{active:!0})}),children:e.jsx(M,{children:e.jsx(f,{title:"Coordinaciones de Pesca",children:e.jsx(T,{tableData:C,columns:S,rowSelection:!1})})})})})})})]})}export{R as default};
