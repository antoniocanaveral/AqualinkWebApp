import{u as M,t as R,F as n,r as $,j as e,B as m,x as z,aQ as B,aR as H,L as b,H as O,aS as W,M as L,e as _,f as q,X as K,aT as Q,Z as X,$ as Z,aO as C,aU as f,D as g,I as l,aV as G,P as J}from"./index-BJIB_XH5.js";import{A as Y,C as ee}from"./style-cBuMsQwt.js";import{A as ae}from"./autoComplete-CnYeSWuI.js";import{o as se,a as te,b as N,c as ne}from"./actionCreator-TlQBu561.js";const ie=W(x=>e.jsxs("slot",{children:[x.v0,x.v1]}),{name:"ContactTable_1",portals:["v0","v1"]}),de=function(){const d=M(),{users:r}=R(a=>({users:a.Contact.data})),[p]=n.useForm(),[o,h]=$.useState({selectedRowKeys:0,selectedRows:0,visible:!1,editVisible:!1,modalType:"primary",url:null,update:{}}),{update:i}=o,I=a=>{d(ne(a))},T=a=>{const s=r.filter(c=>c.id!==a);d(te(s))},w=()=>{h({...o,visible:!0})},k=a=>{h({...o,editVisible:!0,update:a})},u=()=>{h({...o,visible:!1,editVisible:!1})},v=a=>{u();const s=[];r.map(t=>s.push(t.id));const c=Math.max(...s);d(N([...r,{...a,id:c+1,time:new Date().getTime(),img:"static/img/users/6.png",live:!1,stared:!1}])),p.resetFields()},S=a=>{u();const s=r;s.map(c=>{if(c.id===i.id){const t=c;t.id=i.id,t.name=a.name,t.email=a.email,t.phone=a.phone,t.designation=a.designation,t.company=a.company,t.time=i.time,t.img=i.img,t.stared=i.stared}return!0}),d(N(s)),p.resetFields()},y=()=>{u()},j=[];r.sort((a,s)=>s.time-a.time).map(a=>{const{id:s,name:c,designation:t,img:A,stared:V,email:E,phone:F,company:U}=a;return j.push({key:s,user:e.jsxs("div",{className:"user-info",children:[e.jsx("figure",{children:e.jsx("img",{style:{width:"40px"},src:require(`../../${A}`),alt:""})}),e.jsxs("figcaption",{children:[e.jsx(O,{className:"user-name",as:"h6",children:c}),e.jsx("span",{className:"user-designation",children:"San Francisco, CA"})]})]}),email:E,company:U,position:t,phone:F,action:e.jsxs(Y,{className:"table-actions",children:[e.jsx(m,{onClick:()=>d(se(r,s)),className:"btn-icon",type:"primary",to:"#",shape:"circle",children:e.jsx(z,{className:V?"active":"deactivate"})}),e.jsx(B,{className:"wide-dropdwon",content:e.jsxs(e.Fragment,{children:[e.jsx(b,{onClick:()=>k(a),to:"#",children:e.jsx("span",{children:"Edit"})}),e.jsx(b,{onClick:()=>T(s),to:"#",children:e.jsx("span",{children:"Delete"})})]}),action:["click"],children:e.jsx(m,{className:"btn-icon",type:"info",to:"#",shape:"circle",children:e.jsx(H,{})})})]})})});const P=[{title:"User",dataIndex:"user",key:"user"},{title:"Email",dataIndex:"email",key:"email"},{title:"Company",dataIndex:"company",key:"company"},{title:"Position",dataIndex:"position",key:"position"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"",dataIndex:"action",key:"action",width:"90px"}],D={onChange:(a,s)=>{h({...o,selectedRowKeys:a,selectedRows:s})},getCheckboxProps:a=>({disabled:a.name==="Disabled User",name:a.name})};return e.jsx(ie,{v0:e.jsx(G,{children:e.jsx(ee,{children:e.jsx(J,{ghost:!0,title:"Contacts",subTitle:e.jsx(ae,{onSearch:I,placeholder:"Search by Name",width:"100%",patterns:!0}),buttons:[e.jsx(m,{onClick:w,className:"btn-add_new",size:"default",type:"primary",children:e.jsx(b,{to:"#",children:"+ Add New"})},"1")]})})}),v1:e.jsxs(L,{children:[e.jsx(_,{gutter:15,children:e.jsx(q,{xs:24,children:e.jsx(K,{headless:!0,children:e.jsx(Q,{children:e.jsx("div",{className:"contact-table",children:e.jsx(X,{className:"table-responsive",children:e.jsx(Z,{rowSelection:D,dataSource:j,columns:P,pagination:{defaultPageSize:7,total:j.length,showTotal:(a,s)=>`${s[0]}-${s[1]} of ${a} items`}})})})})})})}),e.jsx(C,{type:o.modalType,title:"Contact Information",visible:o.visible,footer:null,onCancel:y,children:e.jsx("div",{className:"project-modal",children:e.jsx(f,{children:e.jsx(g,{children:e.jsxs(n,{form:p,name:"contact",onFinish:v,children:[e.jsx(n.Item,{label:"Name",name:"name",children:e.jsx(l,{placeholder:"Input Name"})}),e.jsx(n.Item,{label:"Email Address",name:"email",rules:[{message:"Please input your email!",type:"email"}],children:e.jsx(l,{placeholder:"name@example.com"})}),e.jsx(n.Item,{name:"phone",label:"Phone Number",children:e.jsx(l,{placeholder:"+440 2546 5236"})}),e.jsx(n.Item,{name:"designation",label:"Position",children:e.jsx(l,{placeholder:"Input Position"})}),e.jsx(n.Item,{name:"company",label:"Company Name",children:e.jsx(l,{placeholder:"Company Name"})}),e.jsx(m,{htmlType:"submit",size:"default",type:"primary",children:"Add New Contact"},"submit")]})})})})}),e.jsx(C,{type:o.modalType,title:"Contact Information",visible:o.editVisible,footer:null,onCancel:y,children:e.jsx("div",{className:"project-modal",children:e.jsx(f,{children:e.jsx(g,{children:e.jsxs(n,{form:p,name:"contactEdit",onFinish:S,children:[e.jsx(n.Item,{initialValue:i.name,label:"Name",name:"name",children:e.jsx(l,{placeholder:"Input Name"})}),e.jsx(n.Item,{label:"Email Address",name:"email",rules:[{message:"Please input your email!",type:"email"}],initialValue:i.email,children:e.jsx(l,{placeholder:"name@example.com"})}),e.jsx(n.Item,{initialValue:i.phone,name:"phone",label:"Phone Number",children:e.jsx(l,{placeholder:"+440 2546 5236"})}),e.jsx(n.Item,{initialValue:i.designation,name:"designation",label:"Position",children:e.jsx(l,{placeholder:"Input Position"})}),e.jsx(n.Item,{initialValue:i.company,name:"company",label:"Company Name",children:e.jsx(l,{placeholder:"Company Name"})}),e.jsx(m,{htmlType:"submit",size:"default",type:"primary",children:"Add New Contact"},"submit")]})})})})})]})})};export{de as default};
