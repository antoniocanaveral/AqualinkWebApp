const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewDataList-BI6W9_x3.js","assets/index-zxEALkft.js","assets/index-BIsRgKjm.css"])))=>i.map(i=>d[i]);
import{t as z,u as V,r,O as $,j as e,L as u,Q as B,w as L,T as H,V as W,P as Y,M as F,W as G,e as x,f as m,X as f,Y as K,H as Q,B as X,v as Z,I as b,p as l,Z as J,$ as ee,a0 as te,a1 as se,a2 as p,_ as ae,a3 as h,a4 as ne,a5 as ie,a6 as ce}from"./index-zxEALkft.js";const re=r.lazy(()=>ae(()=>import("./OverviewDataList-BI6W9_x3.js"),__vite__mapDeps([0,1,2]))),le=[{path:"index",breadcrumbName:"Dashboard"},{path:"app",breadcrumbName:"Apps"},{path:"first",breadcrumbName:"Tickets"}];function ue(){const{dataState:c}=z(t=>({dataState:t.tickets.data})),a=V(),[S,d]=r.useState(!1),[k,o]=r.useState(!1),[v,y]=r.useState(!1),j=[];r.useEffect(()=>{a&&a($()),d(!0)},[a]);const g=t=>{const s=c.filter(i=>i.id!==t);a(p(s))},N=()=>{},_=e.jsx(ne,{style:{fontSize:16,color:"#1890ff"}}),C=[{title:"Id",dataIndex:"id",key:"id"},{title:"Requested By",dataIndex:"requested",key:"requested"},{title:"Subject",dataIndex:"subject",key:"subject"},{title:"Priority",dataIndex:"priority",key:"priority"},{title:"Status",dataIndex:"status",key:"status"},{title:"Created Date",dataIndex:"createAt",key:"createAt"},{title:"Actions",dataIndex:"action",key:"action",width:"90px"}],I=t=>{y(t),o(!0)},T=()=>{o(!1)};c.length&&c.map(t=>{const{id:s,user:i,status:n,subject:M,priority:R,createAt:q}=t;return j.push({id:`#${s}`,requested:e.jsxs("div",{className:"ninjadash-info-element align-center-v",children:[e.jsx("div",{className:"ninjadash-info-element__media",children:e.jsx("img",{src:require(`../../${i.img}`),alt:""})}),e.jsx("div",{className:"ninjadash-info-element__content",children:e.jsx("p",{children:i.name})})]}),status:e.jsx("span",{className:`ninjadash-support-status ninjadash-support-status-${n}`,children:n}),subject:e.jsx("span",{className:"ninjadash-ticket-subject",children:M}),priority:R,createAt:q,action:e.jsxs("div",{className:"table-actions",children:[e.jsx(u,{className:"view",to:`/admin/app/support/ticketDetails/${s}`,children:e.jsx(B,{})}),e.jsx(u,{onClick:()=>I(t),className:"edit",to:"#",children:e.jsx(L,{})}),e.jsx(H,{title:"Are you sure to delete this task?",onConfirm:de=>g(s),onCancel:N,okText:"Yes",cancelText:"No",children:e.jsx(u,{className:"delete",to:"#",children:e.jsx(W,{})})})]})})});const D=()=>{d(!0)},w=()=>{d(!1)},A=t=>{const s=ie(c,2);a(p(c.concat({...t,user:{name:"Kellie Marquot",img:"static/img/avatar/profileImage.png",conversations:[]},createAt:ce().format("MM-DD-yyyy"),id:s}))),d(!1)},E=t=>{const s=c.map(i=>{if(o(!1),i.id===t.id){const n={...i};return n.subject=t.subject,n.email=t.email,n.priority=t.priority,n.status=t.status,n.description=t.description,n}return i});a(p(s))},P=t=>{const s=t.currentTarget.value;a(h(s,"id"))},O=t=>{a(h(t,"status"))},U=t=>{const{value:s}=t.currentTarget;a(h(s,"subject"))};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Support Ticket",routes:le}),e.jsx(F,{children:e.jsxs(G,{children:[e.jsx(x,{justify:"center",children:e.jsx(m,{xs:24,children:e.jsx(r.Suspense,{fallback:e.jsx(f,{headless:!0,children:e.jsx(K,{active:!0})}),children:e.jsx(re,{})})})}),e.jsx(x,{gutter:25,children:e.jsx(m,{sm:24,xs:24,children:e.jsxs(f,{headless:!0,children:[e.jsxs("div",{className:"ninjadash-support-content-top",children:[e.jsx(Q,{as:"h4",children:"All Support Ticket"}),e.jsxs(X,{onClick:D,size:"default",type:"primary",children:[e.jsx(Z,{})," Add Ticket"]})]}),e.jsxs("div",{className:"ninjadash-support-content-filter",children:[e.jsxs("div",{className:"ninjadash-support-content-filter__left",children:[e.jsxs("div",{className:"ninjadash-support-content-filter__input",children:[e.jsx("span",{className:"label",children:"Id:"}),e.jsx(b,{onChange:P,placeholder:"Search with Id"})]}),e.jsxs("div",{className:"ninjadash-support-content-filter__input",children:[e.jsx("span",{className:"label",children:"Status:"}),e.jsxs(l,{onChange:O,style:{width:200},defaultValue:"",children:[e.jsx(l.Option,{value:"",children:"All"}),e.jsx(l.Option,{value:"Open",children:"Open"}),e.jsx(l.Option,{value:"Pending",children:"Pending"}),e.jsx(l.Option,{value:"Close",children:"Close"})]})]})]}),e.jsx("div",{className:"ninjadash-support-content-filter__right",children:e.jsx(b,{onChange:U,size:"default",placeholder:"Search",prefix:_})})]}),e.jsx("div",{className:"ninjadash-support-content-table",children:e.jsx(J,{className:"table-data-view table-responsive",children:e.jsx(ee,{pagination:{pageSize:10,showSizeChanger:!0},dataSource:j,columns:C})})})]})})})]})}),e.jsx(te,{onCancel:w,handleSubmit:A,visible:S}),e.jsx(se,{onCancel:T,editableData:v,handleSubmit:E,visible:k})]})}export{ue as default};
