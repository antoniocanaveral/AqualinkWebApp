"use strict";(self.webpackChunkHexaDash=self.webpackChunkHexaDash||[]).push([[8872],{78872:(e,a,s)=>{s.r(a),s.d(a,{default:()=>C});var i=s(9950),t=s(73878),n=s(87094),o=s(41988),c=s(32212),d=s(67482),r=s(57687),l=s(29355),u=s(68826),h=s(41013),m=s(28429),f=s(42074),x=s(83587),p=s(90556),g=s(85961),j=s(59051),N=s.n(j),w=s(63593),v=s.n(w),y=s(44414);const C=function(){const[e,a]=(0,i.useState)(v().get("orgName")),s=(0,t.d4)((e=>e.auth.selectedModule)),j="/farm/fishing-coords"===(0,m.zy)().pathname,w=(0,t.wA)(),C=(0,t.d4)((e=>e.custody.coordinations)),k=(0,t.d4)((e=>e.auth.custodyOrgs)),_=[...k.length>0?[{options:k.map((e=>({value:e.orgId,label:e.orgName,email:e.orgEmail}))),onChange:e=>{a(e);const s=k.find((a=>a.orgId===e)),i=s?s.orgEmail:"";v().set("orgId",e),v().set("orgEmail",i||""),v().remove("poolId")},placeholder:"Seleccione una Empacadora",value:e||void 0}]:[]],I="FARM"!==s?"Finca Seleccionada":"Empacadora Seleccionada";(0,i.useEffect)((()=>{w((0,u.loadCustodyCoordinations)())}),[w,e]);const b=e=>{switch(e.toLowerCase()){case"confirmado":return"ninjadash-status-confirmed";case"en proceso":return"ninjadash-status-in-process";case"en espera":return"ninjadash-status-waiting";case"ejecutado":return"ninjadash-status-executed";case"espera bines":return"ninjadash-status-waiting-bines";case"espera gavetas":return"ninjadash-status-waiting-drawers";default:return"ninjadash-status-undefined"}},S=(0,i.useMemo)((()=>C&&0!==C.length?C.filter((e=>!j||"por revisar"!==e.statusWrapper.statusName.toLowerCase())).map((e=>{const a=e.statusWrapper;return{id:`${e.SM_FishingNotification||"Sin Lote ID"}`,harvestDate:N()(e.planned_harvest_date).format("YYYY-MM-DD")||"No disponible",harvestType:e.harvest_type||"Sin Tipo",growOut:e.grow_out_pool||"No disponible",cycleNumber:e.cycle_number||"No disponible",seedingVolume:e.seeding_volume||"No definido",classificationP:e.classification_p||"No clasificado",classificationS:e.classification_s||"No clasificado",classificationT:e.classification_t||"No clasificado",packer:e.packer_name||`Sin ${I}`,location:(0,y.jsxs)("span",{children:[e.City||"No Ciudad",", ",e.Address1||"No Direcci\xf3n"]}),status:(0,y.jsx)("span",{className:`ninjadash-status ${b(a.statusName)}`,children:a.statusName||"Estado no definido"}),action:(0,y.jsxs)("div",{className:"table-actions",style:{minWidth:"50px !important",textAlign:"center"},children:[!a.showEditFrom&&(0,y.jsx)(f.N_,{className:"view",title:"Ver informaci\xf3n",to:`./${e.id}/view`,children:(0,y.jsx)(x.A,{})}),a.showEditFrom&&(0,y.jsx)(f.N_,{className:"edit",title:"Enviar Propuesta",to:`./${e.id}/edit`,children:(0,y.jsx)(p.A,{})}),a.showBinesForm&&(0,y.jsx)(f.N_,{className:"edit",title:"Cargar informaci\xf3n de Bines",to:`./${e.id}/bines`,children:(0,y.jsx)(g.A,{})}),a.showDrawersForm&&(0,y.jsx)(f.N_,{className:"edit",title:"Cargar informaci\xf3n de Gavetas",to:`./${e.id}/drawers`,children:(0,y.jsx)(g.A,{})})]})}})):[]),[C,j,I]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.PageHeader,{highlightText:"Aqualink",title:"Coordinaciones Pesca",organizations:k,selectOptions:_,selectedOrg:e}),(0,y.jsx)(d.Main,{children:(0,y.jsx)(n.A,{gutter:25,children:(0,y.jsx)(o.A,{xxl:24,xs:24,children:(0,y.jsx)(i.Suspense,{fallback:(0,y.jsx)(l.Cards,{headless:!0,children:(0,y.jsx)(c.A,{active:!0})}),children:(0,y.jsx)(d.BorderLessHeading,{children:(0,y.jsx)(l.Cards,{title:"Coordinaciones de Pesca",children:(0,y.jsx)(h.default,{tableData:S,columns:[{title:"Fecha de Pesca",dataIndex:"harvestDate",key:"harvestDate"},{title:"Piscina",dataIndex:"growOut",key:"growOut"},{title:"Lote ID",dataIndex:"id",key:"id"},{title:"Volumen",dataIndex:"seedingVolume",key:"seedingVolume"},{title:"Clasificaci\xf3n P",dataIndex:"classificationP",key:"classificationP"},{title:"Clasificaci\xf3n S",dataIndex:"classificationS",key:"classificationS"},{title:"Clasificaci\xf3n T",dataIndex:"classificationT",key:"classificationT"},{title:"Estado",dataIndex:"status",key:"status"},{title:"Acciones",dataIndex:"action",key:"action",width:"150px"}],rowSelection:!1})})})})})})})]})}}}]);