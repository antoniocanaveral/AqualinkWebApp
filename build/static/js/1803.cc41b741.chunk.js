"use strict";(self.webpackChunkHexaDash=self.webpackChunkHexaDash||[]).push([[1803],{77041:(e,s,a)=>{a.r(s),a.d(s,{default:()=>T});var r=a(9950),i=a(57687),n=a(99674),l=a(87827),d=a(92759),t=a(87094),c=a(41988),o=a(32212),h=a(90650),m=a(75871),u=a(50558),x=a(477),j=a(57796),p=a(72896),f=a(72449),v=a(28429),y=a(73878),g=a(83678),w=a(11876),b=a(75581),A=a(47435),C=(a(65465),a(42017)),N=a(29355),k=a(67482),_=a(68826),D=a(63593),S=a.n(D),F=a(59051),z=a.n(F),P=a(77671),R=a(20662),H=a(44414);const{Option:I}=n.A;const T=function(){var e;const s=[{path:"index",breadcrumbName:S().get("orgName")},{path:"first",breadcrumbName:"Coordinaci\xf3n"}],a=(0,y.wA)(),n=(0,v.Zp)();let{id:D}=(0,v.g)();const F=(0,y.d4)((e=>e.custody.coordination)),I=(0,y.d4)((e=>e.custody.loading)),[T]=l.A.useForm(),[E,q]=(0,r.useState)({status:"process",isFinished:!1,current:0,form:{answeredDate:F?F.answered_date?F.answered_date:F.planned_date:z()()}}),{status:Y,isFinished:L,current:M}=E;(0,r.useEffect)((()=>{a((0,_.loadCustodyCoord)(D,(()=>{})))}),[a,D]),(0,r.useLayoutEffect)((()=>{const e=document.querySelectorAll(".ant-steps-item-active"),s=document.querySelectorAll(".ant-steps-item-finish");e.forEach((e=>{if(e.previousSibling){const s=e.previousSibling;s.classList.contains("success-step-item")?s.classList.remove("success-step-item"):s.classList.remove("wizard-step-item"),s.classList.add("wizard-steps-item-active")}})),s.forEach((e=>{if(e.previousSibling){const s=e.previousSibling;s.classList.remove("wizard-steps-item-active"),s.classList.add("success-step-item")}}))}));const W=[{key:"1",label:"Camaronera:",value:F?F.org_name:"-"},{key:"2",label:"Piscina:",value:F?F.warehouse_name:"-"},{key:"3",label:"Direcci\xf3n:",value:F?`${F.City} ${F.Address1}, ${F.Address2}`:"-"},{key:"4",label:"Notificaci\xf3n:",value:F?F.SM_FishingNotification:"-"},{key:"5",label:"Fecha de Pesca Solicitada:",value:F?z()(F.planned_date).format("DD-MM-YYYY hh:mm A"):"-"},{key:"6",label:"Tipo de Pesca:",value:F?F.fishing_type:"-"},{key:"7",label:"Tipo de Contenedor:",value:F?F.container_type:"-"},{key:"8",label:"Volumen de Pesca:",value:F?`${F.fishing_volume} lbs`:"-"},{key:"9",label:"Clasificaci\xf3n:",value:F?F.Classification:"-"},{key:"10",label:"Textura:",value:F?F.texture:"-"}],O=[{title:"",dataIndex:"label",key:"label",width:"55%",render:e=>(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,H.jsx)("span",{style:{height:"5px",width:"5px",backgroundColor:"#012e40",borderRadius:"50%",display:"inline-block",marginRight:"8px"}}),(0,H.jsx)("span",{children:e})]})},{title:"",dataIndex:"value",key:"value",width:"45%"}];return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(i.PageHeader,{className:"ninjadash-page-header-main",title:`Responder Coordinaci\xf3n: ${F?F.SM_FishingNotification:"-"}`,routes:s}),(0,H.jsx)(k.Main,{children:(0,H.jsx)(t.A,{gutter:25,children:(0,H.jsx)(c.A,{sm:24,xs:24,children:(0,H.jsx)(r.Suspense,{fallback:(0,H.jsx)(N.Cards,{headless:!0,children:(0,H.jsx)(o.A,{paragraph:{rows:20},active:!0})}),children:(0,H.jsx)(N.Cards,{headless:!0,children:(0,H.jsx)(t.A,{justify:"center",children:(0,H.jsx)(c.A,{xxl:20,xs:24,children:(0,H.jsx)(k.WizardWrapper,{className:"ninjadash-wizard-page",children:(0,H.jsx)(k.WizardTwo,{children:(0,H.jsx)(P.StepsCoords,{isswitch:!0,current:M,status:Y,steps:[{title:"Coordinaci\xf3n",className:"wizard-step-item",icon:(0,H.jsx)(w.A,{}),content:(0,H.jsx)(k.BasicFormWrapper,{style:{width:"100%"},children:(0,H.jsx)(t.A,{children:(0,H.jsx)(c.A,{sm:22,xs:24,children:(0,H.jsx)("div",{className:"create-account-form",style:{marginTop:"10px"},children:(0,H.jsxs)(l.A,{form:T,name:"account",style:{marginTop:"-50px"},layout:"vertical",children:[(0,H.jsxs)(C.default,{as:"h4",children:["1. Datos de la Coordinaci\xf3n ",I&&(0,H.jsx)(h.A,{})]}),(0,H.jsx)(t.A,{gutter:25,children:(0,H.jsx)(c.A,{sm:24,xs:24,children:(0,H.jsx)(r.Suspense,{fallback:(0,H.jsx)(N.Cards,{headless:!0,children:(0,H.jsx)(o.A,{paragraph:{rows:20},active:!0})}),children:(0,H.jsx)("div",{children:(0,H.jsx)(t.A,{gutter:25,children:(0,H.jsx)(c.A,{xl:24,xs:24,children:(0,H.jsxs)(r.Suspense,{fallback:(0,H.jsx)(N.Cards,{headless:!0,children:(0,H.jsx)(o.A,{active:!0})}),children:[(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,H.jsx)(m.A,{style:{backgroundColor:"#0e92e7",marginRight:"10px"},children:(null===F||void 0===F||null===(e=F.org_name)||void 0===e?void 0:e[0])||"E"}),(0,H.jsx)(u.A.Title,{level:5,children:(null===F||void 0===F?void 0:F.org_name)||""})]}),(0,H.jsx)("br",{}),(0,H.jsx)(c.A,{xs:24,md:24,children:(0,H.jsx)(R.default,{data:W,pairsPerRow:2})})]})})})})})})}),(0,H.jsxs)(t.A,{gutter:16,children:[(0,H.jsx)(c.A,{xs:24,sm:18})," ",(0,H.jsx)(c.A,{xs:24,sm:6,style:{textAlign:"right",marginTop:"20px"},children:(0,H.jsx)(f.Button,{size:"default",type:"danger",onClick:()=>{window.confirm("Est\xe1s seguro de querer rechazar esta coordinaci\xf3n ?")&&a((0,_.cancelCustodyCoord)(D,(e=>{console.log(e),e?(d.Ay.success("Coordinaci\xf3n Rechazada."),n("/custody/coordinacion")):d.Ay.error("Ocurri\xf3 un error.")})))},children:"Rechazar la Coordinaci\xf3n"})})]})]})})})})})},{title:"Informaci\xf3n de Empacadora",className:"wizard-step-item",icon:(0,H.jsx)(b.A,{}),content:(0,H.jsx)(k.BasicFormWrapper,{className:"basic-form-inner",children:(0,H.jsx)("div",{className:"atbd-form-checkout",children:(0,H.jsx)(t.A,{justify:"center",children:(0,H.jsx)(c.A,{sm:22,xs:24,children:(0,H.jsxs)("div",{className:"shipping-form",children:[(0,H.jsx)(C.default,{as:"h4",children:"2. Informaci\xf3n de Empacadora"}),(0,H.jsxs)(l.A,{form:T,name:"address",children:[(0,H.jsx)(l.A.Item,{name:"responsed_date",label:"Fecha Propuesta",initialValue:E.form.answeredDate?z()(E.form.answeredDate):z()(),rules:[{required:!0,message:"Por favor seleccione una Fecha"}],children:(0,H.jsx)(x.A,{value:E.form.answeredDate,onChange:e=>{let s="";e&&(s=z()(E.form.answeredDate),s.set({year:e.year(),month:e.month(),date:e.date()})),q({...E,form:{...E.form,answeredDate:s}})}})}),(0,H.jsx)(l.A.Item,{name:"response-time",label:"Hora Propuesta",initialValue:z()(E.form.answeredDate?z()(E.form.answeredDate).format("HH:mm"):"00:00","HH:mm"),rules:[{required:!0,message:"Por favor seleccione una Hora"}],children:(0,H.jsx)(j.A,{value:E.form.answeredDate,onChange:e=>{let s=z()(E.form.answeredDate);s.set({hour:e.hour(),minute:e.minute(),second:0,millisecond:0}),q({...E,form:{...E.form,answeredDate:s}})}})})]})]})})})})})},{title:"Resumen",className:"wizard-step-item",icon:(0,H.jsx)(A.A,{}),content:"finish"!==Y?(0,H.jsx)(k.BasicFormWrapper,{style:{width:"80%"},children:(0,H.jsxs)("div",{className:"atbd-review-order",style:{width:"100%"},children:[(0,H.jsx)(C.default,{as:"h4",children:"3. Resumen"}),(0,H.jsxs)(N.Cards,{bodyStyle:{borderRadius:10},headless:!0,children:[(0,H.jsx)("div",{className:"atbd-review-order__single",children:(0,H.jsxs)(N.Cards,{headless:!0,children:[(0,H.jsx)("div",{className:"atbd-review-order__shippingTitle",children:(0,H.jsx)(C.default,{as:"h5",children:"Coordinaci\xf3n Solicitada"})}),(0,H.jsx)("article",{className:"atbd-review-order__shippingInfo",children:(0,H.jsx)(k.OrderSummary,{children:(0,H.jsx)(p.A,{className:"custom-table_lab",dataSource:W,columns:O,pagination:!1,showHeader:!1,bordered:!0,rowClassName:()=>"custom-table-row"})})})]})}),(0,H.jsx)("div",{className:"atbd-review-order__single",children:(0,H.jsxs)(N.Cards,{headless:!0,children:[(0,H.jsx)("div",{children:(0,H.jsx)(C.default,{as:"h5",children:"Informaci\xf3n del Empacadora"})}),(0,H.jsx)(k.OrderSummary,{children:(0,H.jsx)("div",{className:"invoice-summary-inner",children:(0,H.jsx)("ul",{className:"summary-list",children:(0,H.jsxs)("li",{children:[(0,H.jsx)("span",{className:"summary-list-title",children:"Fecha y Hora propuesta:"}),(0,H.jsx)("span",{className:"summary-list-text",children:z()(E.form.answeredDate).format("DD-MM-YYYY hh:mm A")})]})})})})]})})]})]})}):(0,H.jsx)(t.A,{justify:"center",style:{width:"100%"},children:(0,H.jsx)(c.A,{xl:21,xs:24,children:(0,H.jsx)("div",{className:"checkout-successful",children:(0,H.jsx)(N.Cards,{headless:!0,bodyStyle:{borderRadius:"20px"},children:(0,H.jsxs)(N.Cards,{headless:!0,children:[(0,H.jsx)("span",{className:"icon-success",children:(0,H.jsx)(g.A,{})}),(0,H.jsx)(C.default,{as:"h3",children:"Respuesta enviada"}),(0,H.jsx)("p",{children:"Tiene 2 d\xedas h\xe1biles para cancelar la solicitud antes de que la camaronera env\xede su desici\xf3n."})]})})})})})}],onNext:()=>new Promise(((e,s)=>{M<2?T.validateFields().then((()=>{q({...E,status:"process",current:M+1}),e()})).catch((e=>{d.Ay.error("Revise los datos requeridos!"),s(e)})):s()})),onPrev:()=>new Promise(((e,s)=>{M>0?(q({...E,status:"process",current:M-1}),e()):s()})),onDone:()=>{window.confirm("Confirma que desea enviar su respuesta a esta coordinaci\xf3n de pesca?")&&a((0,_.submitCustodyCoord)(D,E.form,(e=>{e?q({...E,status:"finish",isFinished:!0,current:0}):d.Ay.error("Ocurri\xf3 al enviar la coordinaci\xf3n.")})))},isfinished:L})})})})})})})})})})]})}}}]);